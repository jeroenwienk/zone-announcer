<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title><%= htmlWebpackPlugin.options.title %></title>
    <style>
        #title-bar {
            -webkit-app-region: drag;
            position: fixed;
            display: flex;
            margin: 0;
            justify-content: space-between;
            top: 0;
            right: 0;
            left: 0;
            height: 32px;
            padding: 0;
            background-color: #ffc107;
            box-shadow:0px 0px 3px #000;
        }

        #title {
            margin-right: auto;
            line-height: 32px;
            font-size: 14px;
        }

        #title-bar-btns {
            margin-left: auto;
            -webkit-app-region: no-drag;
        }

        #title-bar-btns button {
            height: 32px;
            width: 32px;
            background-color: transparent;
            border: none;
            color: black;
            font-size: 16px;
        }

        #title-bar-btns button:hover {
            background-color: #3F3F41;
        }

        #root {
            position: fixed;
            top: 32px;
            left: 0;
            right: 0;
            bottom: 0;
        }

    </style>
</head>
<body>
<div id="title-bar">

    <span id="title"> </span>

    <span id="title-bar-btns">

        <button id="min-btn">-</button>

        <button id="max-btn">+</button>

        <button id="close-btn">x</button>

    </span>

</div>
<div id="<%= htmlWebpackPlugin.options.reactRoot %>"></div>
<script>
  (function () {

    const remote = require('electron').remote;

    function init() {
      document.getElementById("min-btn").addEventListener("click", function (e) {
        const window = remote.getCurrentWindow();
        window.minimize();
      });

      document.getElementById("max-btn").addEventListener("click", function (e) {
        const window = remote.getCurrentWindow();
        if (!window.isMaximized()) {
          window.maximize();
        } else {
          window.unmaximize();
        }
      });

      document.getElementById("close-btn").addEventListener("click", function (e) {
        const window = remote.getCurrentWindow();
        window.close();
      });
    }

    document.onreadystatechange = function () {
      if (document.readyState == "complete") {
        init();
      }
    };
  })();
</script>
</body>
</html>